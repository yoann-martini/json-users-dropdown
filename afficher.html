<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
    <!-- <div  class="dropdown">
        <button class="btn btn-secondary dropdown-toggle"  type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Dropdown button
        </button>
        <div id="displaynom" class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            
          <a class="dropdown-item" href="#" id="ident2"><div id="displaynom2"></div></a>
          <a class="dropdown-item" href="#" id="ident3"><div id="displaynom3"></div></a> 
        </div>

       
    </div> -->


         <select name="utilisateurs" id="displaynom">
            <option id="display-card" value="null">sélectionnez</option>
        </select>

        <div id="card">
                
        </div>
 


      <script
      src="https://code.jquery.com/jquery-3.4.1.js"
      integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>   
    <script type = "text/javascript" language="javascript"> 




//pour récup mon id en haut mais quand je clique ça marche une fois sur deux


        $(document).ready(function() { 
        /*     $.get('afficher.html', function(id) {  }); */
        
                            $.getJSON('utilisateurs.json', function(emp) {    
                           /*      $("#displaynom").change(function(event){ 
                                    $('#displaynom').html('')
                               } ); */
                                                    for(let i=0;i<emp.utilisateurs.length;i++){
                                                    $('#displaynom').append(
                                                        
                                                        
                                                        /* '<a id="display-card" class="dropdown-item" href="?id='+i+'" >'+  emp.utilisateurs[i].nom  + ' ' + emp.utilisateurs[i].prenom  +'</a>' */
                                                        '<option id="display-card" value="'+i+'">'+  emp.utilisateurs[i].nom  + ' ' + emp.utilisateurs[i].prenom  +'</option>'
                                                        
                                                        
                                                        )};

                             

                                           /*  $("#displaynom").change(function(event){  */
                                                

                                    

                                    
                                    $("#displaynom").change(function(event){ 
            
 let id = this.value;

if(id!='null')                                  
{
$('#card').html('<div class="card" style="width: 18rem;"><div class="card-body"><h5 class="card-title">Identité</h5><p class="card-text" id="nom">'+emp.utilisateurs[id].nom+'</p><p class="card-text" id="prenom">'+emp.utilisateurs[id].prenom+'</p><p class="card-text" id="age">'+emp.utilisateurs[id].age+'</p><p class="card-text" id="profession">'+emp.utilisateurs[id].profession+'</p><p class="card-text" id="email">'+emp.utilisateurs[id].email+'</p><p class="card-text" id="tel">'+emp.utilisateurs[id].tel+'</p></div></div>');}else{$('#card').html('');}

}); 
                            

                });

}); 

    /*     $('#prenom').html('<p>'+emp.utilisateurs[0].prenom +'</p>');
        $('#age').html('<p>'+emp.utilisateurs[0].age +'</p>');
        $('#profession').html('<p>'+emp.utilisateurs[0].profession +'</p>');
        $('#email').html('<p>'+emp.utilisateurs[0].email +'</p>');
        $('#tel').html('<p>'+emp.utilisateurs[0].tel +'</p>'); */
        



           

         /*    $("#ident2").click(function(event){ 
                $.getJSON('utilisateurs.json', function(emp) { 
                    $('#nom').html('<p>'+emp.utilisateurs[1].nom +'</p>');
                    $('#prenom').html('<p>'+emp.utilisateurs[1].prenom +'</p>');
                    $('#age').html('<p>'+emp.utilisateurs[1].age +'</p>');
                    $('#profession').html('<p>'+emp.utilisateurs[1].profession +'</p>');
                    $('#email').html('<p>'+emp.utilisateurs[1].email +'</p>');
                    $('#tel').html('<p>'+emp.utilisateurs[1].tel +'</p>');
                       
                   
                   
                }); 
            }); 

            $("#ident3").click(function(event){ 
                $.getJSON('utilisateurs.json', function(emp) { 
                    $('#nom').html('<p>'+emp.utilisateurs[2].nom +'</p>');
                    $('#prenom').html('<p>'+emp.utilisateurs[2].prenom +'</p>');
                    $('#age').html('<p>'+emp.utilisateurs[2].age +'</p>');
                    $('#profession').html('<p>'+emp.utilisateurs[2].profession +'</p>');
                    $('#email').html('<p>'+emp.utilisateurs[2].email +'</p>');
                    $('#tel').html('<p>'+emp.utilisateurs[2].tel +'</p>');
                       
                   
                   
                }); 
            });  */


     
      </script>  
</body>
</html>